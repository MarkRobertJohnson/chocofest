##AH:UseTextMode
module BootStrapFeeds
{
    # PSDsc chocolatey::ChocolateySource
    # (
    # Otter_ConfigurationKey: Name,
    # Name: Default,
    # Ensure: Present,
    # Source: $ChocolateyFeedUrl,
    # Priority: 0
    # );
    
    # Remove the default chocolatey feed, so the new feed takes priority (they are both priority 0)
    Chocolatey::Ensure-Source
    (
        Name: chocolatey,
        Url: $ChocolateyFeedUrl,
        Exists: false
    );
    
    
    Chocolatey::Ensure-Source
    (
        Name: Default,
        Url: $ChocolateyFeedUrl
    );
    
    # Re-add the default chocolatey URL
    Chocolatey::Ensure-Source
    (
        Name: chocolatey,
        Url: https://chocolatey.org/api/v2/
    );
}
